"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_flasher_flasher_dist_index_js"],{

/***/ "./node_modules/@flasher/flasher/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@flasher/flasher/dist/index.js ***!
  \*****************************************************/
/***/ (function(module) {



/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
}

var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function getMergeFunction(key, options) {
	if (!options.customMerge) {
		return deepmerge
	}
	var customMerge = options.customMerge(key);
	return typeof customMerge === 'function' ? customMerge : deepmerge
}

function getEnumerableOwnPropertySymbols(target) {
	return Object.getOwnPropertySymbols
		? Object.getOwnPropertySymbols(target).filter(function(symbol) {
			return target.propertyIsEnumerable(symbol)
		})
		: []
}

function getKeys(target) {
	return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))
}

function propertyIsOnObject(object, property) {
	try {
		return property in object
	} catch(_) {
		return false
	}
}

// Protects from prototype poisoning and unexpected merging up the prototype chain.
function propertyIsUnsafe(target, key) {
	return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,
		&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,
			&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		getKeys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	getKeys(source).forEach(function(key) {
		if (propertyIsUnsafe(target, key)) {
			return
		}

		if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
			destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
		} else {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;
	// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()
	// implementations can use it. The caller may not replace it.
	options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

var cjs = deepmerge_1;

var FlasherFactory = (function () {
    function FlasherFactory(viewFactory) {
        this.options = {
            timeout: 5000,
            fps: 30,
            position: 'top-right',
            direction: 'top',
            style: {}
        };
        this.viewFactory = viewFactory;
    }
    FlasherFactory.prototype.success = function (message, title, options) {
        this.flash('success', message, title, options);
    };
    FlasherFactory.prototype.info = function (message, title, options) {
        this.flash('info', message, title, options);
    };
    FlasherFactory.prototype.warning = function (message, title, options) {
        this.flash('warning', message, title, options);
    };
    FlasherFactory.prototype.error = function (message, title, options) {
        this.flash('error', message, title, options);
    };
    FlasherFactory.prototype.flash = function (type, message, title, options) {
        var notification = this.createNotification(type, message, title, options);
        this.renderOptions({});
        this.render({ notification: notification });
    };
    FlasherFactory.prototype.createNotification = function (type, message, title, options) {
        if (typeof type === 'object') {
            options = type;
            type = options.type;
            message = options.message;
            title = options.title;
        }
        else if (typeof message === 'object') {
            options = message;
            message = options.message;
            title = options.title;
        }
        else if (typeof title === 'object') {
            options = title;
            title = options.title;
        }
        if (undefined === message) {
            throw new Error('message option is required');
        }
        return {
            type: type || 'info',
            message: message,
            title: title,
            options: options
        };
    };
    FlasherFactory.prototype.render = function (envelope) {
        var notification = envelope.notification;
        var nOptions = notification.options || {};
        var options = Array.isArray(nOptions) ? this.options : cjs(this.options, nOptions);
        var container = this.createContainer(options);
        this.addToContainer(container, envelope, options);
    };
    FlasherFactory.prototype.renderOptions = function (options) {
        this.options = cjs(this.options, options);
    };
    FlasherFactory.prototype.createContainer = function (options) {
        var containerSelector = ".fl-main-container[data-position=\"".concat(options.position, "\"]");
        var container = document.querySelector(containerSelector);
        if (container) {
            return container;
        }
        container = document.createElement('div');
        container.classList.add('fl-main-container');
        container.dataset.position = options.position;
        Object.keys(options.style).forEach(function (key) {
            container === null || container === void 0 ? void 0 : container.style.setProperty(key, options.style[key]);
        });
        document.body.append(container);
        return container;
    };
    FlasherFactory.prototype.addToContainer = function (container, envelope, options) {
        var template = this.stringToHTML(envelope.template || this.viewFactory.render(envelope));
        this.appendNotification(container, template, options.direction);
        this.renderProgressBar(template, options);
        this.handleClick(template);
    };
    FlasherFactory.prototype.appendNotification = function (container, template, direction) {
        if (direction === 'bottom') {
            container.append(template);
        }
        else {
            container.prepend(template);
        }
        setTimeout(function () {
            template.classList.add('fl-show');
        }, 100);
    };
    FlasherFactory.prototype.removeNotification = function (template) {
        var container = template.parentElement;
        template.classList.remove('fl-show');
        template.addEventListener('transitionend', function () {
            template.remove();
            if (container.hasChildNodes()) {
                return;
            }
            container.remove();
        });
    };
    FlasherFactory.prototype.handleClick = function (template) {
        var _this = this;
        template.addEventListener('click', function () { return _this.removeNotification(template); });
    };
    FlasherFactory.prototype.renderProgressBar = function (template, options) {
        var _this = this;
        if (!options.timeout || options.timeout <= 0) {
            return;
        }
        var progressBar = document.createElement('div');
        progressBar.classList.add('fl-progress');
        var progressBarContainer = template.querySelector('.fl-progress-bar');
        progressBarContainer && progressBarContainer.append(progressBar);
        var lapse = 1000 / options.fps;
        var width = 0;
        var showProgress = function () {
            width += 1;
            var percent = (1 - lapse * (width / options.timeout)) * 100;
            progressBar.style.width = "".concat(percent, "%");
            if (percent <= 0) {
                clearInterval(progressInterval);
                _this.removeNotification(template);
            }
        };
        var progressInterval = window.setInterval(showProgress, lapse);
        template.addEventListener('mouseout', function () { return progressInterval = window.setInterval(showProgress, lapse); });
        template.addEventListener('mouseover', function () { return clearInterval(progressInterval); });
    };
    FlasherFactory.prototype.stringToHTML = function (str) {
        var support = (function () {
            if (!DOMParser) {
                return false;
            }
            var parser = new DOMParser();
            try {
                parser.parseFromString('x', 'text/html');
            }
            catch (err) {
                return false;
            }
            return true;
        })();
        if (support) {
            var parser = new DOMParser();
            var doc = parser.parseFromString(str, 'text/html');
            return doc.body.firstChild;
        }
        var dom = document.createElement('div');
        dom.innerHTML = str;
        return dom.firstElementChild;
    };
    return FlasherFactory;
}());

var Flasher = (function () {
    function Flasher() {
        this.defaultHandler = 'theme.flasher';
        this.factories = new Map();
        this.themes = new Map();
    }
    Flasher.prototype.success = function (message, title, options) {
        this.flash('success', message, title, options);
    };
    Flasher.prototype.info = function (message, title, options) {
        this.flash('info', message, title, options);
    };
    Flasher.prototype.warning = function (message, title, options) {
        this.flash('warning', message, title, options);
    };
    Flasher.prototype.error = function (message, title, options) {
        this.flash('error', message, title, options);
    };
    Flasher.prototype.flash = function (type, message, title, options) {
        var notification = this.createNotification(type, message, title, options);
        var factory = this.create(this.defaultHandler);
        factory.renderOptions({});
        factory.render({ notification: notification });
    };
    Flasher.prototype.createNotification = function (type, message, title, options) {
        if (typeof type === 'object') {
            options = type;
            type = options.type;
            message = options.message;
            title = options.title;
        }
        else if (typeof message === 'object') {
            options = message;
            message = options.message;
            title = options.title;
        }
        else if (typeof title === 'object') {
            options = title;
            title = options.title;
        }
        if (undefined === message) {
            throw new Error('message option is required');
        }
        return {
            type: type || 'info',
            message: message,
            title: title,
            options: options
        };
    };
    Flasher.prototype.create = function (alias) {
        alias = this.resolveHandler(alias);
        this.resolveThemeHandler(alias);
        var factory = this.factories.get(alias);
        if (!factory) {
            throw new Error("Unable to resolve \"".concat(alias, "\" notification factory, did you forget to register it?"));
        }
        return factory;
    };
    Flasher.prototype.renderOptions = function (options) {
        var _this = this;
        Object.entries(options).forEach(function (_a) {
            var handler = _a[0], option = _a[1];
            _this.create(handler).renderOptions(option);
        });
    };
    Flasher.prototype.render = function (response) {
        var _this = this;
        response = this.resolveResponse(response);
        this.addStyles(response.styles, function () {
            _this.addScripts(response.scripts, function () {
                _this.renderOptions(response.options);
                _this.renderEnvelopes(response.envelopes, response.context);
            });
        });
    };
    Flasher.prototype.addFactory = function (name, factory) {
        this.factories.set(name, factory);
    };
    Flasher.prototype.addTheme = function (name, theme) {
        this.themes.set(name, theme);
    };
    Flasher.prototype.using = function (name) {
        this.defaultHandler = name;
        return this;
    };
    Flasher.prototype.addStyles = function (urls, callback) {
        var _this = this;
        if (urls.length === 0) {
            if (typeof callback === 'function') {
                callback();
            }
            return;
        }
        if (document.querySelector("link[href=\"".concat(urls[0], "\"]")) !== null) {
            this.addStyles(urls.slice(1), callback);
            return;
        }
        var tag = document.createElement('link');
        tag.setAttribute('href', urls[0]);
        tag.setAttribute('type', 'text/css');
        tag.setAttribute('rel', 'stylesheet');
        tag.onload = function () { return _this.addStyles(urls.slice(1), callback); };
        document.head.appendChild(tag);
    };
    Flasher.prototype.addScripts = function (urls, callback) {
        var _this = this;
        if (urls.length === 0) {
            if (typeof callback === 'function') {
                callback();
            }
            return;
        }
        if (document.querySelector("script[src=\"".concat(urls[0], "\"]")) !== null) {
            this.addScripts(urls.slice(1), callback);
            return;
        }
        var tag = document.createElement('script');
        tag.setAttribute('src', urls[0]);
        tag.setAttribute('type', 'text/javascript');
        tag.onload = function () { return _this.addScripts(urls.slice(1), callback); };
        document.body.appendChild(tag);
    };
    Flasher.prototype.renderEnvelopes = function (envelopes, context) {
        var _this = this;
        var queues = new Map();
        envelopes.forEach(function (envelope) {
            envelope.context = Object.assign({}, envelope.context || {}, context);
            envelope.handler = _this.resolveHandler(envelope.handler);
            var factory = _this.create(envelope.handler);
            if (!_this.isQueueable(factory)) {
                factory.render(envelope);
                return;
            }
            queues.get(envelope.handler) || factory.resetQueue();
            factory.addEnvelope(envelope);
            queues.set(envelope.handler, factory);
        });
        queues.forEach(function (factory) { return factory.renderQueue(); });
    };
    Flasher.prototype.isQueueable = function (object) {
        return typeof object.addEnvelope === 'function'
            && typeof object.renderQueue === 'function';
    };
    Flasher.prototype.resolveResponse = function (response) {
        var _this = this;
        response.envelopes = response.envelopes || [];
        response.options = response.options || {};
        response.scripts = response.scripts || [];
        response.styles = response.styles || [];
        response.context = response.context || {};
        Object.entries(response.options).forEach(function (_a) {
            var handler = _a[0], options = _a[1];
            response.options[handler] = _this.parseOptions(options);
        });
        response.envelopes.forEach(function (envelope) {
            envelope.handler = _this.resolveHandler(envelope.handler);
            envelope.notification.options = _this.parseOptions(envelope.notification.options || {});
            _this.pushStyles(response, envelope.handler);
        });
        return response;
    };
    Flasher.prototype.parseOptions = function (options) {
        var _this = this;
        Object.entries(options).forEach(function (_a) {
            var key = _a[0], value = _a[1];
            options[key] = _this.parseFunction(value);
        });
        return options;
    };
    Flasher.prototype.parseFunction = function (func) {
        var _a, _b;
        if (typeof func !== 'string') {
            return func;
        }
        var match = func.match(/^function(?:.+)?(?:\s+)?\((.+)?\)(?:\s+|\n+)?{(?:\s+|\n+)?((?:.|\n)+)}$/m);
        if (!match) {
            return func;
        }
        var args = (_b = (_a = match[1]) === null || _a === void 0 ? void 0 : _a.split(',').map(function (arg) { return arg.trim(); })) !== null && _b !== void 0 ? _b : [];
        var body = match[2];
        return new (Function.bind.apply(Function, __spreadArray(__spreadArray([void 0], args, false), [body], false)))();
    };
    Flasher.prototype.pushStyles = function (response, handler) {
        var _a;
        handler = handler.replace('theme.', '');
        var styles = ((_a = this.themes.get(handler)) === null || _a === void 0 ? void 0 : _a.styles) || [];
        response.styles = response.styles
            .concat(styles)
            .filter(function (value, index, self) { return self.indexOf(value) === index; });
    };
    Flasher.prototype.resolveHandler = function (handler) {
        handler = handler || this.defaultHandler;
        if (['flasher', 'theme', 'template'].includes(handler)) {
            handler = 'theme.flasher';
        }
        handler = handler.replace('template.', 'theme.');
        return handler;
    };
    Flasher.prototype.resolveThemeHandler = function (alias) {
        if (0 !== alias.indexOf('theme.')) {
            return;
        }
        var viewFactory = this.themes.get(alias.replace('theme.', ''));
        if (!viewFactory) {
            return;
        }
        this.addFactory(alias, new FlasherFactory(viewFactory));
    };
    return Flasher;
}());

var e=[],t=[];function n(n,r){if(n&&"undefined"!=typeof document){var a,s=!0===r.prepend?"prepend":"append",d=!0===r.singleTag,i="string"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c();}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n));}function c(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a="prepend"===s?"afterbegin":"beforeend";return i.insertAdjacentElement(a,e),e}}

var css = ".fl-main-container {\n  position: fixed;\n  max-width: 350px;\n  width: 100%;\n  z-index: 99999; }\n  .fl-main-container[data-position^=\"top-\"] {\n    top: 0.5rem; }\n  .fl-main-container[data-position^=\"bottom-\"] {\n    bottom: 0.5rem; }\n  .fl-main-container[data-position$=\"-right\"] {\n    right: 0.5rem; }\n    .fl-main-container[data-position$=\"-right\"] .fl-container {\n      transform: translateX(110%); }\n  .fl-main-container[data-position$=\"-left\"] {\n    left: 0.5rem; }\n    .fl-main-container[data-position$=\"-left\"] .fl-container {\n      transform: translateX(-110%); }\n  .fl-main-container[data-position$=\"-center\"] {\n    left: 50%;\n    transform: translateX(-50%); }\n  .fl-main-container[data-position=\"top-center\"] .fl-container {\n    transform: translateY(-100vh); }\n  .fl-main-container[data-position=\"bottom-center\"] .fl-container {\n    transform: translateY(100vh); }\n  .fl-main-container .fl-container {\n    transition: transform 0.3s ease-in-out;\n    overflow: hidden; }\n    .fl-main-container .fl-container.fl-show {\n      transform: translate(0, 0); }\n\n.fl-flasher.fl-container {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  line-height: 1.5;\n  margin-top: 0.5rem;\n  background-color: #ffffff;\n  border-radius: 0.375rem 0 0 0.375rem;\n  cursor: pointer;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  word-break: break-word; }\n  .fl-flasher.fl-container .fl-content {\n    display: flex;\n    padding-top: 0.75rem;\n    padding-bottom: 0.75rem;\n    padding-right: 0.75rem;\n    align-items: center; }\n  .fl-flasher.fl-container .fl-icon {\n    display: inline-block;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n    flex-shrink: 0;\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%; }\n  .fl-flasher.fl-container .fl-title {\n    display: block;\n    margin-left: 0.5rem;\n    font-size: 1rem;\n    font-weight: 500;\n    line-height: 1.25rem;\n    text-transform: capitalize; }\n  .fl-flasher.fl-container .fl-message {\n    display: block;\n    margin-top: 0.25rem;\n    margin-left: 0.5rem;\n    color: #6B7280;\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n    text-transform: capitalize; }\n  .fl-flasher.fl-container .fl-progress-bar {\n    display: flex;\n    height: 0.125rem; }\n\n.fl-flasher.fl-success {\n  border-left: 8px solid #059669FF; }\n  .fl-flasher.fl-success .fl-icon {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23059669FF'%3E%3Cpath fill-rule='evenodd' d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z' clip-rule='evenodd' /%3E%3C/svg%3E\"); }\n  .fl-flasher.fl-success .fl-title {\n    color: #059669FF; }\n  .fl-flasher.fl-success .fl-progress-bar {\n    background-color: #6dface; }\n    .fl-flasher.fl-success .fl-progress-bar .fl-progress {\n      background-color: #059669FF; }\n\n.fl-flasher.fl-info {\n  border-left: 8px solid #2563EBFF; }\n  .fl-flasher.fl-info .fl-icon {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%232563EBFF'%3E%3Cpath fill-rule='evenodd' d='M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v3a1 1 0 102 0V6a1 1 0 00-1-1z' clip-rule='evenodd' /%3E%3C/svg%3E\"); }\n  .fl-flasher.fl-info .fl-title {\n    color: #2563EBFF; }\n  .fl-flasher.fl-info .fl-progress-bar {\n    background-color: #e0e9fc; }\n    .fl-flasher.fl-info .fl-progress-bar .fl-progress {\n      background-color: #2563EBFF; }\n\n.fl-flasher.fl-warning {\n  border-left: 8px solid #D97706FF; }\n  .fl-flasher.fl-warning .fl-icon {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23D97706FF'%3E%3Cpath fill-rule='evenodd' d='M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 102 0V6a1 1 0 00-1-1z' clip-rule='evenodd' /%3E%3C/svg%3E\"); }\n  .fl-flasher.fl-warning .fl-title {\n    color: #D97706FF; }\n  .fl-flasher.fl-warning .fl-progress-bar {\n    background-color: #fdd8ae; }\n    .fl-flasher.fl-warning .fl-progress-bar .fl-progress {\n      background-color: #D97706FF; }\n\n.fl-flasher.fl-error {\n  border-left: 8px solid #DC2626FF; }\n  .fl-flasher.fl-error .fl-icon {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23DC2626FF'%3E%3Cpath fill-rule='evenodd' d='M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z' clip-rule='evenodd' /%3E%3C/svg%3E\"); }\n  .fl-flasher.fl-error .fl-title {\n    color: #DC2626FF; }\n  .fl-flasher.fl-error .fl-progress-bar {\n    background-color: #f8d6d6; }\n    .fl-flasher.fl-error .fl-progress-bar .fl-progress {\n      background-color: #DC2626FF; }\n";
n(css,{});

var flasher = new Flasher();
flasher.addTheme('flasher', {
    render: function (envelope) {
        var _a;
        var notification = envelope.notification;
        return '<div class="fl-flasher fl-container fl-' + notification.type + '">' +
            '<div class="fl-content">' +
            '<div class="fl-icon"></div>' +
            '<div>' +
            '<strong class="fl-title">' + ((_a = notification.title) !== null && _a !== void 0 ? _a : notification.type) + '</strong>' +
            '<span class="fl-message">' + notification.message + '</span>' +
            '</div>' +
            '</div>' +
            '<div class="fl-progress-bar"></div>' +
            '</div>';
    }
});

module.exports = flasher;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZmxhc2hlcl9mbGFzaGVyX2Rpc3RfaW5kZXhfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFLElBQUk7QUFDTjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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eUJBQXlCLDRCQUE0Qix1Q0FBdUMscUNBQXFDLGlEQUFpRCxxVUFBcVUsc0NBQXNDLHlCQUF5Qiw2Q0FBNkMsa0NBQWtDLDREQUE0RCxzQ0FBc0MseUJBQXlCLHVDQUF1QyxrQ0FBa0MsaURBQWlELGlUQUFpVCxtQ0FBbUMseUJBQXlCLDBDQUEwQyxrQ0FBa0MseURBQXlELHNDQUFzQyw0QkFBNEIsdUNBQXVDLHFDQUFxQyxpREFBaUQsaVpBQWlaLHNDQUFzQyx5QkFBeUIsNkNBQTZDLGtDQUFrQyw0REFBNEQsc0NBQXNDLDBCQUEwQix1Q0FBdUMsbUNBQW1DLGlEQUFpRCx1WkFBdVosb0NBQW9DLHlCQUF5QiwyQ0FBMkMsa0NBQWtDLDBEQUEwRCxzQ0FBc0M7QUFDOTlLLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmbGFzaGVyL2ZsYXNoZXIvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxuXG52YXIgaXNNZXJnZWFibGVPYmplY3QgPSBmdW5jdGlvbiBpc01lcmdlYWJsZU9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gaXNOb25OdWxsT2JqZWN0KHZhbHVlKVxuXHRcdCYmICFpc1NwZWNpYWwodmFsdWUpXG59O1xuXG5mdW5jdGlvbiBpc05vbk51bGxPYmplY3QodmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWwodmFsdWUpIHtcblx0dmFyIHN0cmluZ1ZhbHVlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuXHRyZXR1cm4gc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG5cdFx0fHwgc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IERhdGVdJ1xuXHRcdHx8IGlzUmVhY3RFbGVtZW50KHZhbHVlKVxufVxuXG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjVhYzk2M2ZiNzkxZDEyOThlN2YzOTYyMzYzODNiYzk1NWY5MTZjMS9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL2VsZW1lbnQvUmVhY3RFbGVtZW50LmpzI0wyMS1MMjVcbnZhciBjYW5Vc2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gY2FuVXNlU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xuXG5mdW5jdGlvbiBpc1JlYWN0RWxlbWVudCh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxufVxuXG5mdW5jdGlvbiBlbXB0eVRhcmdldCh2YWwpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IFtdIDoge31cbn1cblxuZnVuY3Rpb24gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQodmFsdWUsIG9wdGlvbnMpIHtcblx0cmV0dXJuIChvcHRpb25zLmNsb25lICE9PSBmYWxzZSAmJiBvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSlcblx0XHQ/IGRlZXBtZXJnZShlbXB0eVRhcmdldCh2YWx1ZSksIHZhbHVlLCBvcHRpb25zKVxuXHRcdDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcblx0cmV0dXJuIHRhcmdldC5jb25jYXQoc291cmNlKS5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdHJldHVybiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChlbGVtZW50LCBvcHRpb25zKVxuXHR9KVxufVxuXG5mdW5jdGlvbiBnZXRNZXJnZUZ1bmN0aW9uKGtleSwgb3B0aW9ucykge1xuXHRpZiAoIW9wdGlvbnMuY3VzdG9tTWVyZ2UpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlXG5cdH1cblx0dmFyIGN1c3RvbU1lcmdlID0gb3B0aW9ucy5jdXN0b21NZXJnZShrZXkpO1xuXHRyZXR1cm4gdHlwZW9mIGN1c3RvbU1lcmdlID09PSAnZnVuY3Rpb24nID8gY3VzdG9tTWVyZ2UgOiBkZWVwbWVyZ2Vcbn1cblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0XHQ/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oc3ltYm9sKSB7XG5cdFx0XHRyZXR1cm4gdGFyZ2V0LnByb3BlcnR5SXNFbnVtZXJhYmxlKHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG52YXIgY2pzID0gZGVlcG1lcmdlXzE7XG5cbnZhciBGbGFzaGVyRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmxhc2hlckZhY3Rvcnkodmlld0ZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgICAgICAgIGZwczogMzAsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICd0b3AnLFxuICAgICAgICAgICAgc3R5bGU6IHt9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlld0ZhY3RvcnkgPSB2aWV3RmFjdG9yeTtcbiAgICB9XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLnN1Y2Nlc3MgPSBmdW5jdGlvbiAobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5mbGFzaCgnc3VjY2VzcycsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEZsYXNoZXJGYWN0b3J5LnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZmxhc2goJ2luZm8nLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBGbGFzaGVyRmFjdG9yeS5wcm90b3R5cGUud2FybmluZyA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmZsYXNoKCd3YXJuaW5nJywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZmxhc2goJ2Vycm9yJywgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLmZsYXNoID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBub3RpZmljYXRpb24gPSB0aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbih0eXBlLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucyh7fSk7XG4gICAgICAgIHRoaXMucmVuZGVyKHsgbm90aWZpY2F0aW9uOiBub3RpZmljYXRpb24gfSk7XG4gICAgfTtcbiAgICBGbGFzaGVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0eXBlO1xuICAgICAgICAgICAgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aXRsZSA9IG9wdGlvbnMudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gbWVzc2FnZTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aXRsZSA9IG9wdGlvbnMudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRpdGxlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHRpdGxlO1xuICAgICAgICAgICAgdGl0bGUgPSBvcHRpb25zLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZSBvcHRpb24gaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSB8fCAnaW5mbycsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9O1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbnZlbG9wZSkge1xuICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gZW52ZWxvcGUubm90aWZpY2F0aW9uO1xuICAgICAgICB2YXIgbk9wdGlvbnMgPSBub3RpZmljYXRpb24ub3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBBcnJheS5pc0FycmF5KG5PcHRpb25zKSA/IHRoaXMub3B0aW9ucyA6IGNqcyh0aGlzLm9wdGlvbnMsIG5PcHRpb25zKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFkZFRvQ29udGFpbmVyKGNvbnRhaW5lciwgZW52ZWxvcGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLnJlbmRlck9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBjanModGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEZsYXNoZXJGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgY29udGFpbmVyU2VsZWN0b3IgPSBcIi5mbC1tYWluLWNvbnRhaW5lcltkYXRhLXBvc2l0aW9uPVxcXCJcIi5jb25jYXQob3B0aW9ucy5wb3NpdGlvbiwgXCJcXFwiXVwiKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmwtbWFpbi1jb250YWluZXInKTtcbiAgICAgICAgY29udGFpbmVyLmRhdGFzZXQucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLnN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9PT0gbnVsbCB8fCBjb250YWluZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIG9wdGlvbnMuc3R5bGVba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChjb250YWluZXIpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLmFkZFRvQ29udGFpbmVyID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZW52ZWxvcGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy5zdHJpbmdUb0hUTUwoZW52ZWxvcGUudGVtcGxhdGUgfHwgdGhpcy52aWV3RmFjdG9yeS5yZW5kZXIoZW52ZWxvcGUpKTtcbiAgICAgICAgdGhpcy5hcHBlbmROb3RpZmljYXRpb24oY29udGFpbmVyLCB0ZW1wbGF0ZSwgb3B0aW9ucy5kaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzQmFyKHRlbXBsYXRlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGljayh0ZW1wbGF0ZSk7XG4gICAgfTtcbiAgICBGbGFzaGVyRmFjdG9yeS5wcm90b3R5cGUuYXBwZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgdGVtcGxhdGUsIGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIucHJlcGVuZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5jbGFzc0xpc3QuYWRkKCdmbC1zaG93Jyk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfTtcbiAgICBGbGFzaGVyRmFjdG9yeS5wcm90b3R5cGUucmVtb3ZlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0ZW1wbGF0ZS5wYXJlbnRFbGVtZW50O1xuICAgICAgICB0ZW1wbGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdmbC1zaG93Jyk7XG4gICAgICAgIHRlbXBsYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEZsYXNoZXJGYWN0b3J5LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0ZW1wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlbW92ZU5vdGlmaWNhdGlvbih0ZW1wbGF0ZSk7IH0pO1xuICAgIH07XG4gICAgRmxhc2hlckZhY3RvcnkucHJvdG90eXBlLnJlbmRlclByb2dyZXNzQmFyID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghb3B0aW9ucy50aW1lb3V0IHx8IG9wdGlvbnMudGltZW91dCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByb2dyZXNzQmFyLmNsYXNzTGlzdC5hZGQoJ2ZsLXByb2dyZXNzJyk7XG4gICAgICAgIHZhciBwcm9ncmVzc0JhckNvbnRhaW5lciA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5mbC1wcm9ncmVzcy1iYXInKTtcbiAgICAgICAgcHJvZ3Jlc3NCYXJDb250YWluZXIgJiYgcHJvZ3Jlc3NCYXJDb250YWluZXIuYXBwZW5kKHByb2dyZXNzQmFyKTtcbiAgICAgICAgdmFyIGxhcHNlID0gMTAwMCAvIG9wdGlvbnMuZnBzO1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB2YXIgc2hvd1Byb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2lkdGggKz0gMTtcbiAgICAgICAgICAgIHZhciBwZXJjZW50ID0gKDEgLSBsYXBzZSAqICh3aWR0aCAvIG9wdGlvbnMudGltZW91dCkpICogMTAwO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChwZXJjZW50LCBcIiVcIik7XG4gICAgICAgICAgICBpZiAocGVyY2VudCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVOb3RpZmljYXRpb24odGVtcGxhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgcHJvZ3Jlc3NJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChzaG93UHJvZ3Jlc3MsIGxhcHNlKTtcbiAgICAgICAgdGVtcGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9ncmVzc0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHNob3dQcm9ncmVzcywgbGFwc2UpOyB9KTtcbiAgICAgICAgdGVtcGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKTsgfSk7XG4gICAgfTtcbiAgICBGbGFzaGVyRmFjdG9yeS5wcm90b3R5cGUuc3RyaW5nVG9IVE1MID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgc3VwcG9ydCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIURPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoJ3gnLCAndGV4dC9odG1sJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGlmIChzdXBwb3J0KSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyLCAndGV4dC9odG1sJyk7XG4gICAgICAgICAgICByZXR1cm4gZG9jLmJvZHkuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRvbS5pbm5lckhUTUwgPSBzdHI7XG4gICAgICAgIHJldHVybiBkb20uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfTtcbiAgICByZXR1cm4gRmxhc2hlckZhY3Rvcnk7XG59KCkpO1xuXG52YXIgRmxhc2hlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmxhc2hlcigpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0SGFuZGxlciA9ICd0aGVtZS5mbGFzaGVyJztcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMudGhlbWVzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBGbGFzaGVyLnByb3RvdHlwZS5zdWNjZXNzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZmxhc2goJ3N1Y2Nlc3MnLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZmxhc2goJ2luZm8nLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS53YXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZmxhc2goJ3dhcm5pbmcnLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmZsYXNoKCdlcnJvcicsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLmZsYXNoID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBub3RpZmljYXRpb24gPSB0aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbih0eXBlLCBtZXNzYWdlLCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5jcmVhdGUodGhpcy5kZWZhdWx0SGFuZGxlcik7XG4gICAgICAgIGZhY3RvcnkucmVuZGVyT3B0aW9ucyh7fSk7XG4gICAgICAgIGZhY3RvcnkucmVuZGVyKHsgbm90aWZpY2F0aW9uOiBub3RpZmljYXRpb24gfSk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5jcmVhdGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSwgdGl0bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHR5cGU7XG4gICAgICAgICAgICB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICAgICAgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICAgICAgICAgIHRpdGxlID0gb3B0aW9ucy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBtZXNzYWdlO1xuICAgICAgICAgICAgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICAgICAgICAgIHRpdGxlID0gb3B0aW9ucy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGl0bGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gdGl0bGU7XG4gICAgICAgICAgICB0aXRsZSA9IG9wdGlvbnMudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbWVzc2FnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlIG9wdGlvbiBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlIHx8ICdpbmZvJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoYWxpYXMpIHtcbiAgICAgICAgYWxpYXMgPSB0aGlzLnJlc29sdmVIYW5kbGVyKGFsaWFzKTtcbiAgICAgICAgdGhpcy5yZXNvbHZlVGhlbWVIYW5kbGVyKGFsaWFzKTtcbiAgICAgICAgdmFyIGZhY3RvcnkgPSB0aGlzLmZhY3Rvcmllcy5nZXQoYWxpYXMpO1xuICAgICAgICBpZiAoIWZhY3RvcnkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byByZXNvbHZlIFxcXCJcIi5jb25jYXQoYWxpYXMsIFwiXFxcIiBub3RpZmljYXRpb24gZmFjdG9yeSwgZGlkIHlvdSBmb3JnZXQgdG8gcmVnaXN0ZXIgaXQ/XCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLnJlbmRlck9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYVswXSwgb3B0aW9uID0gX2FbMV07XG4gICAgICAgICAgICBfdGhpcy5jcmVhdGUoaGFuZGxlcikucmVuZGVyT3B0aW9ucyhvcHRpb24pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXNwb25zZSA9IHRoaXMucmVzb2x2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5hZGRTdHlsZXMocmVzcG9uc2Uuc3R5bGVzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGRTY3JpcHRzKHJlc3BvbnNlLnNjcmlwdHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJPcHRpb25zKHJlc3BvbnNlLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlckVudmVsb3BlcyhyZXNwb25zZS5lbnZlbG9wZXMsIHJlc3BvbnNlLmNvbnRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRmxhc2hlci5wcm90b3R5cGUuYWRkRmFjdG9yeSA9IGZ1bmN0aW9uIChuYW1lLCBmYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzLnNldChuYW1lLCBmYWN0b3J5KTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLmFkZFRoZW1lID0gZnVuY3Rpb24gKG5hbWUsIHRoZW1lKSB7XG4gICAgICAgIHRoaXMudGhlbWVzLnNldChuYW1lLCB0aGVtZSk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS51c2luZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdEhhbmRsZXIgPSBuYW1lO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLmFkZFN0eWxlcyA9IGZ1bmN0aW9uICh1cmxzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodXJscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGlua1tocmVmPVxcXCJcIi5jb25jYXQodXJsc1swXSwgXCJcXFwiXVwiKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3R5bGVzKHVybHMuc2xpY2UoMSksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsc1swXSk7XG4gICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgdGFnLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmFkZFN0eWxlcyh1cmxzLnNsaWNlKDEpLCBjYWxsYmFjayk7IH07XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGFnKTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLmFkZFNjcmlwdHMgPSBmdW5jdGlvbiAodXJscywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHVybHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNjcmlwdFtzcmM9XFxcIlwiLmNvbmNhdCh1cmxzWzBdLCBcIlxcXCJdXCIpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRTY3JpcHRzKHVybHMuc2xpY2UoMSksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybHNbMF0pO1xuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgICAgICB0YWcub25sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYWRkU2NyaXB0cyh1cmxzLnNsaWNlKDEpLCBjYWxsYmFjayk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFnKTtcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLnJlbmRlckVudmVsb3BlcyA9IGZ1bmN0aW9uIChlbnZlbG9wZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHF1ZXVlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZW52ZWxvcGVzLmZvckVhY2goZnVuY3Rpb24gKGVudmVsb3BlKSB7XG4gICAgICAgICAgICBlbnZlbG9wZS5jb250ZXh0ID0gT2JqZWN0LmFzc2lnbih7fSwgZW52ZWxvcGUuY29udGV4dCB8fCB7fSwgY29udGV4dCk7XG4gICAgICAgICAgICBlbnZlbG9wZS5oYW5kbGVyID0gX3RoaXMucmVzb2x2ZUhhbmRsZXIoZW52ZWxvcGUuaGFuZGxlcik7XG4gICAgICAgICAgICB2YXIgZmFjdG9yeSA9IF90aGlzLmNyZWF0ZShlbnZlbG9wZS5oYW5kbGVyKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNRdWV1ZWFibGUoZmFjdG9yeSkpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5LnJlbmRlcihlbnZlbG9wZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWVzLmdldChlbnZlbG9wZS5oYW5kbGVyKSB8fCBmYWN0b3J5LnJlc2V0UXVldWUoKTtcbiAgICAgICAgICAgIGZhY3RvcnkuYWRkRW52ZWxvcGUoZW52ZWxvcGUpO1xuICAgICAgICAgICAgcXVldWVzLnNldChlbnZlbG9wZS5oYW5kbGVyLCBmYWN0b3J5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHF1ZXVlcy5mb3JFYWNoKGZ1bmN0aW9uIChmYWN0b3J5KSB7IHJldHVybiBmYWN0b3J5LnJlbmRlclF1ZXVlKCk7IH0pO1xuICAgIH07XG4gICAgRmxhc2hlci5wcm90b3R5cGUuaXNRdWV1ZWFibGUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0LmFkZEVudmVsb3BlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAmJiB0eXBlb2Ygb2JqZWN0LnJlbmRlclF1ZXVlID09PSAnZnVuY3Rpb24nO1xuICAgIH07XG4gICAgRmxhc2hlci5wcm90b3R5cGUucmVzb2x2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlc3BvbnNlLmVudmVsb3BlcyA9IHJlc3BvbnNlLmVudmVsb3BlcyB8fCBbXTtcbiAgICAgICAgcmVzcG9uc2Uub3B0aW9ucyA9IHJlc3BvbnNlLm9wdGlvbnMgfHwge307XG4gICAgICAgIHJlc3BvbnNlLnNjcmlwdHMgPSByZXNwb25zZS5zY3JpcHRzIHx8IFtdO1xuICAgICAgICByZXNwb25zZS5zdHlsZXMgPSByZXNwb25zZS5zdHlsZXMgfHwgW107XG4gICAgICAgIHJlc3BvbnNlLmNvbnRleHQgPSByZXNwb25zZS5jb250ZXh0IHx8IHt9O1xuICAgICAgICBPYmplY3QuZW50cmllcyhyZXNwb25zZS5vcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYVswXSwgb3B0aW9ucyA9IF9hWzFdO1xuICAgICAgICAgICAgcmVzcG9uc2Uub3B0aW9uc1toYW5kbGVyXSA9IF90aGlzLnBhcnNlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLmVudmVsb3Blcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnZlbG9wZSkge1xuICAgICAgICAgICAgZW52ZWxvcGUuaGFuZGxlciA9IF90aGlzLnJlc29sdmVIYW5kbGVyKGVudmVsb3BlLmhhbmRsZXIpO1xuICAgICAgICAgICAgZW52ZWxvcGUubm90aWZpY2F0aW9uLm9wdGlvbnMgPSBfdGhpcy5wYXJzZU9wdGlvbnMoZW52ZWxvcGUubm90aWZpY2F0aW9uLm9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgX3RoaXMucHVzaFN0eWxlcyhyZXNwb25zZSwgZW52ZWxvcGUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICAgICAgb3B0aW9uc1trZXldID0gX3RoaXMucGFyc2VGdW5jdGlvbih2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9O1xuICAgIEZsYXNoZXIucHJvdG90eXBlLnBhcnNlRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2ggPSBmdW5jLm1hdGNoKC9eZnVuY3Rpb24oPzouKyk/KD86XFxzKyk/XFwoKC4rKT9cXCkoPzpcXHMrfFxcbispP3soPzpcXHMrfFxcbispPygoPzoufFxcbikrKX0kL20pO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IChfYiA9IChfYSA9IG1hdGNoWzFdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLnRyaW0oKTsgfSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICAgICAgICB2YXIgYm9keSA9IG1hdGNoWzJdO1xuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5iaW5kLmFwcGx5KEZ1bmN0aW9uLCBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW3ZvaWQgMF0sIGFyZ3MsIGZhbHNlKSwgW2JvZHldLCBmYWxzZSkpKSgpO1xuICAgIH07XG4gICAgRmxhc2hlci5wcm90b3R5cGUucHVzaFN0eWxlcyA9IGZ1bmN0aW9uIChyZXNwb25zZSwgaGFuZGxlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnJlcGxhY2UoJ3RoZW1lLicsICcnKTtcbiAgICAgICAgdmFyIHN0eWxlcyA9ICgoX2EgPSB0aGlzLnRoZW1lcy5nZXQoaGFuZGxlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdHlsZXMpIHx8IFtdO1xuICAgICAgICByZXNwb25zZS5zdHlsZXMgPSByZXNwb25zZS5zdHlsZXNcbiAgICAgICAgICAgIC5jb25jYXQoc3R5bGVzKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBzZWxmKSB7IHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsgfSk7XG4gICAgfTtcbiAgICBGbGFzaGVyLnByb3RvdHlwZS5yZXNvbHZlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyIHx8IHRoaXMuZGVmYXVsdEhhbmRsZXI7XG4gICAgICAgIGlmIChbJ2ZsYXNoZXInLCAndGhlbWUnLCAndGVtcGxhdGUnXS5pbmNsdWRlcyhoYW5kbGVyKSkge1xuICAgICAgICAgICAgaGFuZGxlciA9ICd0aGVtZS5mbGFzaGVyJztcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVyID0gaGFuZGxlci5yZXBsYWNlKCd0ZW1wbGF0ZS4nLCAndGhlbWUuJyk7XG4gICAgICAgIHJldHVybiBoYW5kbGVyO1xuICAgIH07XG4gICAgRmxhc2hlci5wcm90b3R5cGUucmVzb2x2ZVRoZW1lSGFuZGxlciA9IGZ1bmN0aW9uIChhbGlhcykge1xuICAgICAgICBpZiAoMCAhPT0gYWxpYXMuaW5kZXhPZigndGhlbWUuJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld0ZhY3RvcnkgPSB0aGlzLnRoZW1lcy5nZXQoYWxpYXMucmVwbGFjZSgndGhlbWUuJywgJycpKTtcbiAgICAgICAgaWYgKCF2aWV3RmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkRmFjdG9yeShhbGlhcywgbmV3IEZsYXNoZXJGYWN0b3J5KHZpZXdGYWN0b3J5KSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmxhc2hlcjtcbn0oKSk7XG5cbnZhciBlPVtdLHQ9W107ZnVuY3Rpb24gbihuLHIpe2lmKG4mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCl7dmFyIGEscz0hMD09PXIucHJlcGVuZD9cInByZXBlbmRcIjpcImFwcGVuZFwiLGQ9ITA9PT1yLnNpbmdsZVRhZyxpPVwic3RyaW5nXCI9PXR5cGVvZiByLmNvbnRhaW5lcj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHIuY29udGFpbmVyKTpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07aWYoZCl7dmFyIHU9ZS5pbmRleE9mKGkpOy0xPT09dSYmKHU9ZS5wdXNoKGkpLTEsdFt1XT17fSksYT10W3VdJiZ0W3VdW3NdP3RbdV1bc106dFt1XVtzXT1jKCk7fWVsc2UgYT1jKCk7NjUyNzk9PT1uLmNoYXJDb2RlQXQoMCkmJihuPW4uc3Vic3RyaW5nKDEpKSxhLnN0eWxlU2hlZXQ/YS5zdHlsZVNoZWV0LmNzc1RleHQrPW46YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSk7fWZ1bmN0aW9uIGMoKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYoZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2Nzc1wiKSxyLmF0dHJpYnV0ZXMpZm9yKHZhciB0PU9iamVjdC5rZXlzKHIuYXR0cmlidXRlcyksbj0wO248dC5sZW5ndGg7bisrKWUuc2V0QXR0cmlidXRlKHRbbl0sci5hdHRyaWJ1dGVzW3Rbbl1dKTt2YXIgYT1cInByZXBlbmRcIj09PXM/XCJhZnRlcmJlZ2luXCI6XCJiZWZvcmVlbmRcIjtyZXR1cm4gaS5pbnNlcnRBZGphY2VudEVsZW1lbnQoYSxlKSxlfX1cblxudmFyIGNzcyA9IFwiLmZsLW1haW4tY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIG1heC13aWR0aDogMzUwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIHotaW5kZXg6IDk5OTk5OyB9XFxuICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbl49XFxcInRvcC1cXFwiXSB7XFxuICAgIHRvcDogMC41cmVtOyB9XFxuICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbl49XFxcImJvdHRvbS1cXFwiXSB7XFxuICAgIGJvdHRvbTogMC41cmVtOyB9XFxuICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbiQ9XFxcIi1yaWdodFxcXCJdIHtcXG4gICAgcmlnaHQ6IDAuNXJlbTsgfVxcbiAgICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbiQ9XFxcIi1yaWdodFxcXCJdIC5mbC1jb250YWluZXIge1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMTAlKTsgfVxcbiAgLmZsLW1haW4tY29udGFpbmVyW2RhdGEtcG9zaXRpb24kPVxcXCItbGVmdFxcXCJdIHtcXG4gICAgbGVmdDogMC41cmVtOyB9XFxuICAgIC5mbC1tYWluLWNvbnRhaW5lcltkYXRhLXBvc2l0aW9uJD1cXFwiLWxlZnRcXFwiXSAuZmwtY29udGFpbmVyIHtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTExMCUpOyB9XFxuICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbiQ9XFxcIi1jZW50ZXJcXFwiXSB7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOyB9XFxuICAuZmwtbWFpbi1jb250YWluZXJbZGF0YS1wb3NpdGlvbj1cXFwidG9wLWNlbnRlclxcXCJdIC5mbC1jb250YWluZXIge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMHZoKTsgfVxcbiAgLmZsLW1haW4tY29udGFpbmVyW2RhdGEtcG9zaXRpb249XFxcImJvdHRvbS1jZW50ZXJcXFwiXSAuZmwtY29udGFpbmVyIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHZoKTsgfVxcbiAgLmZsLW1haW4tY29udGFpbmVyIC5mbC1jb250YWluZXIge1xcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLWluLW91dDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcbiAgICAuZmwtbWFpbi1jb250YWluZXIgLmZsLWNvbnRhaW5lci5mbC1zaG93IHtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTsgfVxcblxcbi5mbC1mbGFzaGVyLmZsLWNvbnRhaW5lciB7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiO1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxuICBib3JkZXItcmFkaXVzOiAwLjM3NXJlbSAwIDAgMC4zNzVyZW07XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBib3gtc2hhZG93OiAwIDEwcHggMTVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMCA0cHggNnB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcXG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWNvbnRhaW5lciAuZmwtY29udGVudCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIHBhZGRpbmctdG9wOiAwLjc1cmVtO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMC43NXJlbTtcXG4gICAgcGFkZGluZy1yaWdodDogMC43NXJlbTtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxcbiAgLmZsLWZsYXNoZXIuZmwtY29udGFpbmVyIC5mbC1pY29uIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBtYXJnaW4tbGVmdDogMC41cmVtO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xcbiAgICBsaW5lLWhlaWdodDogMS4yNXJlbTtcXG4gICAgZmxleC1zaHJpbms6IDA7XFxuICAgIHdpZHRoOiAyLjVyZW07XFxuICAgIGhlaWdodDogMi41cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWNvbnRhaW5lciAuZmwtdGl0bGUge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbiAgICBmb250LXdlaWdodDogNTAwO1xcbiAgICBsaW5lLWhlaWdodDogMS4yNXJlbTtcXG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWNvbnRhaW5lciAuZmwtbWVzc2FnZSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBtYXJnaW4tdG9wOiAwLjI1cmVtO1xcbiAgICBtYXJnaW4tbGVmdDogMC41cmVtO1xcbiAgICBjb2xvcjogIzZCNzI4MDtcXG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcXG4gICAgbGluZS1oZWlnaHQ6IDEuMjVyZW07XFxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOyB9XFxuICAuZmwtZmxhc2hlci5mbC1jb250YWluZXIgLmZsLXByb2dyZXNzLWJhciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGhlaWdodDogMC4xMjVyZW07IH1cXG5cXG4uZmwtZmxhc2hlci5mbC1zdWNjZXNzIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgIzA1OTY2OUZGOyB9XFxuICAuZmwtZmxhc2hlci5mbC1zdWNjZXNzIC5mbC1pY29uIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4LCUzQ3N2ZyB3aWR0aD0nMjAnIGhlaWdodD0nMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDIwIDIwJyBmaWxsPSclMjMwNTk2NjlGRiclM0UlM0NwYXRoIGZpbGwtcnVsZT0nZXZlbm9kZCcgZD0nTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6bTMuNzA3LTkuMjkzYTEgMSAwIDAwLTEuNDE0LTEuNDE0TDkgMTAuNTg2IDcuNzA3IDkuMjkzYTEgMSAwIDAwLTEuNDE0IDEuNDE0bDIgMmExIDEgMCAwMDEuNDE0IDBsNC00eicgY2xpcC1ydWxlPSdldmVub2RkJyAvJTNFJTNDL3N2ZyUzRVxcXCIpOyB9XFxuICAuZmwtZmxhc2hlci5mbC1zdWNjZXNzIC5mbC10aXRsZSB7XFxuICAgIGNvbG9yOiAjMDU5NjY5RkY7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLXN1Y2Nlc3MgLmZsLXByb2dyZXNzLWJhciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZGZhY2U7IH1cXG4gICAgLmZsLWZsYXNoZXIuZmwtc3VjY2VzcyAuZmwtcHJvZ3Jlc3MtYmFyIC5mbC1wcm9ncmVzcyB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzA1OTY2OUZGOyB9XFxuXFxuLmZsLWZsYXNoZXIuZmwtaW5mbyB7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICMyNTYzRUJGRjsgfVxcbiAgLmZsLWZsYXNoZXIuZmwtaW5mbyAuZmwtaWNvbiB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0Nzdmcgd2lkdGg9JzIwJyBoZWlnaHQ9JzIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyMCAyMCcgZmlsbD0nJTIzMjU2M0VCRkYnJTNFJTNDcGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xOCAxMGE4IDggMCAxMS0xNiAwIDggOCAwIDAxMTYgMHptLTcgNGExIDEgMCAxMS0yIDAgMSAxIDAgMDEyIDB6bS0xLTlhMSAxIDAgMDAtMSAxdjNhMSAxIDAgMTAyIDBWNmExIDEgMCAwMC0xLTF6JyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIC8lM0UlM0Mvc3ZnJTNFXFxcIik7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWluZm8gLmZsLXRpdGxlIHtcXG4gICAgY29sb3I6ICMyNTYzRUJGRjsgfVxcbiAgLmZsLWZsYXNoZXIuZmwtaW5mbyAuZmwtcHJvZ3Jlc3MtYmFyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTlmYzsgfVxcbiAgICAuZmwtZmxhc2hlci5mbC1pbmZvIC5mbC1wcm9ncmVzcy1iYXIgLmZsLXByb2dyZXNzIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M0VCRkY7IH1cXG5cXG4uZmwtZmxhc2hlci5mbC13YXJuaW5nIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgI0Q5NzcwNkZGOyB9XFxuICAuZmwtZmxhc2hlci5mbC13YXJuaW5nIC5mbC1pY29uIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4LCUzQ3N2ZyB3aWR0aD0nMjAnIGhlaWdodD0nMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDIwIDIwJyBmaWxsPSclMjNEOTc3MDZGRiclM0UlM0NwYXRoIGZpbGwtcnVsZT0nZXZlbm9kZCcgZD0nTTguMjU3IDMuMDk5Yy43NjUtMS4zNiAyLjcyMi0xLjM2IDMuNDg2IDBsNS41OCA5LjkyYy43NSAxLjMzNC0uMjEzIDIuOTgtMS43NDIgMi45OEg0LjQyYy0xLjUzIDAtMi40OTMtMS42NDYtMS43NDMtMi45OGw1LjU4LTkuOTJ6TTExIDEzYTEgMSAwIDExLTIgMCAxIDEgMCAwMTIgMHptLTEtOGExIDEgMCAwMC0xIDF2M2ExIDEgMCAxMDIgMFY2YTEgMSAwIDAwLTEtMXonIGNsaXAtcnVsZT0nZXZlbm9kZCcgLyUzRSUzQy9zdmclM0VcXFwiKTsgfVxcbiAgLmZsLWZsYXNoZXIuZmwtd2FybmluZyAuZmwtdGl0bGUge1xcbiAgICBjb2xvcjogI0Q5NzcwNkZGOyB9XFxuICAuZmwtZmxhc2hlci5mbC13YXJuaW5nIC5mbC1wcm9ncmVzcy1iYXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRkOGFlOyB9XFxuICAgIC5mbC1mbGFzaGVyLmZsLXdhcm5pbmcgLmZsLXByb2dyZXNzLWJhciAuZmwtcHJvZ3Jlc3Mge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNEOTc3MDZGRjsgfVxcblxcbi5mbC1mbGFzaGVyLmZsLWVycm9yIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgI0RDMjYyNkZGOyB9XFxuICAuZmwtZmxhc2hlci5mbC1lcnJvciAuZmwtaWNvbiB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0Nzdmcgd2lkdGg9JzIwJyBoZWlnaHQ9JzIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyMCAyMCcgZmlsbD0nJTIzREMyNjI2RkYnJTNFJTNDcGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xMCAxOGE4IDggMCAxMDAtMTYgOCA4IDAgMDAwIDE2ek04LjcwNyA3LjI5M2ExIDEgMCAwMC0xLjQxNCAxLjQxNEw4LjU4NiAxMGwtMS4yOTMgMS4yOTNhMSAxIDAgMTAxLjQxNCAxLjQxNEwxMCAxMS40MTRsMS4yOTMgMS4yOTNhMSAxIDAgMDAxLjQxNC0xLjQxNEwxMS40MTQgMTBsMS4yOTMtMS4yOTNhMSAxIDAgMDAtMS40MTQtMS40MTRMMTAgOC41ODYgOC43MDcgNy4yOTN6JyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIC8lM0UlM0Mvc3ZnJTNFXFxcIik7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWVycm9yIC5mbC10aXRsZSB7XFxuICAgIGNvbG9yOiAjREMyNjI2RkY7IH1cXG4gIC5mbC1mbGFzaGVyLmZsLWVycm9yIC5mbC1wcm9ncmVzcy1iYXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhkNmQ2OyB9XFxuICAgIC5mbC1mbGFzaGVyLmZsLWVycm9yIC5mbC1wcm9ncmVzcy1iYXIgLmZsLXByb2dyZXNzIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREMyNjI2RkY7IH1cXG5cIjtcbm4oY3NzLHt9KTtcblxudmFyIGZsYXNoZXIgPSBuZXcgRmxhc2hlcigpO1xuZmxhc2hlci5hZGRUaGVtZSgnZmxhc2hlcicsIHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uIChlbnZlbG9wZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBub3RpZmljYXRpb24gPSBlbnZlbG9wZS5ub3RpZmljYXRpb247XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImZsLWZsYXNoZXIgZmwtY29udGFpbmVyIGZsLScgKyBub3RpZmljYXRpb24udHlwZSArICdcIj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmwtY29udGVudFwiPicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbC1pY29uXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdj4nICtcbiAgICAgICAgICAgICc8c3Ryb25nIGNsYXNzPVwiZmwtdGl0bGVcIj4nICsgKChfYSA9IG5vdGlmaWNhdGlvbi50aXRsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbm90aWZpY2F0aW9uLnR5cGUpICsgJzwvc3Ryb25nPicgK1xuICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZmwtbWVzc2FnZVwiPicgKyBub3RpZmljYXRpb24ubWVzc2FnZSArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsLXByb2dyZXNzLWJhclwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZmxhc2hlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==